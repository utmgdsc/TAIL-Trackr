{"ast":null,"code":"var _jsxFileName = \"/Users/devshah/Documents/WorkSpace/University/CSC392/TAIL-Trackr/client/src/components/Home.js\";\nimport { Component } from \"react\";\nimport MainPage from \"./MainPage\";\nimport Features from \"./Features\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Home extends Component {\n  constructor() {\n    super();\n    this.handleSubmit = async () => {\n      let imageByteCode = \"\";\n      this.getBase64(this.state.selectedImage, result => {\n        imageByteCode = result;\n      });\n      const response = await fetch(\"/api/upload\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(imageByteCode)\n      });\n      console.log(JSON.stringify({\n        encodedString: imageByteCode\n      }));\n      const json = await response.json();\n      console.log(json);\n    };\n    this.state = {\n      selectedImage: null\n    };\n  }\n  getBase64(file, callback) {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => {\n      callback(reader.result);\n    };\n    reader.onerror = error => {\n      console.error(\"Error converting image to base64:\", error);\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App-Main\",\n      children: [/*#__PURE__*/_jsxDEV(MainPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Features, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Upload Image of Animal Here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }, this), this.state.selectedImage && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"not found\",\n          width: \"250px\",\n          src: URL.createObjectURL(this.state.selectedImage)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleSubmit,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"myImage\",\n        onChange: event => {\n          console.log(event.target.files[0]);\n          this.setState({\n            selectedImage: event.target.files[0]\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["Component","MainPage","Features","jsxDEV","_jsxDEV","Home","constructor","handleSubmit","imageByteCode","getBase64","state","selectedImage","result","response","fetch","method","headers","body","JSON","stringify","console","log","encodedString","json","file","callback","reader","FileReader","readAsDataURL","onload","onerror","error","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","alt","width","src","URL","createObjectURL","onClick","type","name","onChange","event","target","files","setState"],"sources":["/Users/devshah/Documents/WorkSpace/University/CSC392/TAIL-Trackr/client/src/components/Home.js"],"sourcesContent":["import { Component } from \"react\";\nimport MainPage from \"./MainPage\"\nimport Features from \"./Features\"\n\nexport default class Home extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n          selectedImage: null,\n        };\n      }\n    \n      handleSubmit = async () => {\n        let imageByteCode = \"\";\n    \n        this.getBase64(this.state.selectedImage, (result) => {\n          imageByteCode = result;\n        });\n    \n        const response = await fetch(\"/api/upload\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(imageByteCode),\n        });\n    \n        console.log(JSON.stringify({encodedString: imageByteCode}))\n    \n        const json = await response.json();\n        console.log(json);\n      };\n    \n      getBase64(file, callback) {\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = () => {\n          callback(reader.result);\n        };\n        reader.onerror = (error) => {\n          console.error(\"Error converting image to base64:\", error);\n        };\n      }\n\n\n    render() {\n        return (\n            <div className=\"App-Main\">\n              <MainPage />\n              <Features />\n              <h1>Upload Image of Animal Here</h1>\n      \n              {this.state.selectedImage && (\n                <div>\n                  <img\n                    alt=\"not found\"\n                    width={\"250px\"}\n                    src={URL.createObjectURL(this.state.selectedImage)}\n                  />\n                  <br />\n                  <button onClick={this.handleSubmit}>Submit</button>\n                </div>\n              )}\n      \n              <br />\n              <br />\n      \n              <input\n                type=\"file\"\n                name=\"myImage\"\n                onChange={(event) => {\n                  console.log(event.target.files[0]);\n                  this.setState({ selectedImage: event.target.files[0] });\n                }}\n              />\n            </div>\n          );\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}