{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\n\n// since this is a hook, it should technically be using a useAuthContext, but we are leaving it this way for now\nexport default function useRegister() {\n  _s();\n  const baseURL = \"http://127.0.0.1:5000\";\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(null);\n  // const {dispatch} = useAuthContext()\n\n  const register = async (email, password) => {\n    // used for error handling\n    setIsLoading(true);\n    setError(null);\n\n    // POST request into db\n    const response = await fetch(baseURL + '/api/user/register/', {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n\n    // logging the response data\n    console.log(response);\n    const json = await response.json();\n\n    // checking response\n    if (!response.ok) {\n      setIsLoading(false);\n      setError(json.error);\n    }\n    if (response.ok) {\n      // save user to local storage\n      localStorage.setItem(\"user\", JSON.stringify(json));\n\n      // update auth context\n      // dispatch({type: \"LOGIN\", payload: json})\n      setIsLoading(false);\n    }\n  };\n  return {\n    register,\n    isLoading,\n    error\n  };\n}\n_s(useRegister, \"oSmfmuW5T4Yczc8SMzWJFCrcXbA=\");","map":{"version":3,"names":["useState","useRegister","_s","baseURL","error","setError","isLoading","setIsLoading","register","email","password","response","fetch","method","headers","body","JSON","stringify","console","log","json","ok","localStorage","setItem"],"sources":["/Users/devshah/Documents/WorkSpace/University/CSC392/TAIL-Trackr/client/src/hooks/useRegister.js"],"sourcesContent":["import { useState } from \"react\"\n\n// since this is a hook, it should technically be using a useAuthContext, but we are leaving it this way for now\nexport default function useRegister() {\n    const baseURL = \"http://127.0.0.1:5000\"\n    const [error, setError] = useState(null)\n    const [isLoading, setIsLoading] = useState(null)\n    // const {dispatch} = useAuthContext()\n\n    const register = async (email, password) => {\n        // used for error handling\n        setIsLoading(true)\n        setError(null)\n\n        // POST request into db\n        const response = await fetch(baseURL + '/api/user/register/', {\n            method: \"POST\",\n            headers: {\"content-type\": \"application/json\"},\n            body: JSON.stringify({email, password})\n        })\n\n        // logging the response data\n        console.log(response)\n        \n        const json = await response.json()\n        \n        // checking response\n        if (!response.ok) {\n            setIsLoading(false)\n            setError(json.error)\n        }\n        if (response.ok) {\n            // save user to local storage\n            localStorage.setItem(\"user\", JSON.stringify(json))\n\n            // update auth context\n            // dispatch({type: \"LOGIN\", payload: json})\n            setIsLoading(false)\n        }\n    }\n\n    return {register, isLoading, error}\n}"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;;AAEhC;AACA,eAAe,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EAClC,MAAMC,OAAO,GAAG,uBAAuB;EACvC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACM,SAAS,EAAEC,YAAY,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAChD;;EAEA,MAAMQ,QAAQ,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;IACxC;IACAH,YAAY,CAAC,IAAI,CAAC;IAClBF,QAAQ,CAAC,IAAI,CAAC;;IAEd;IACA,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAACT,OAAO,GAAG,qBAAqB,EAAE;MAC1DU,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAC,cAAc,EAAE;MAAkB,CAAC;MAC7CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAACR,KAAK;QAAEC;MAAQ,CAAC;IAC1C,CAAC,CAAC;;IAEF;IACAQ,OAAO,CAACC,GAAG,CAACR,QAAQ,CAAC;IAErB,MAAMS,IAAI,GAAG,MAAMT,QAAQ,CAACS,IAAI,CAAC,CAAC;;IAElC;IACA,IAAI,CAACT,QAAQ,CAACU,EAAE,EAAE;MACdd,YAAY,CAAC,KAAK,CAAC;MACnBF,QAAQ,CAACe,IAAI,CAAChB,KAAK,CAAC;IACxB;IACA,IAAIO,QAAQ,CAACU,EAAE,EAAE;MACb;MACAC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEP,IAAI,CAACC,SAAS,CAACG,IAAI,CAAC,CAAC;;MAElD;MACA;MACAb,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC;EAED,OAAO;IAACC,QAAQ;IAAEF,SAAS;IAAEF;EAAK,CAAC;AACvC;AAACF,EAAA,CAvCuBD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}